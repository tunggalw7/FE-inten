<div class="modal-wrapper large">
  <div class="modal-header">
    <h5 class="title">{{type}} Guru</h5>
    <button type="button" class="btn-close" (click)="onCancel()">
      <nb-icon icon="close-outline"></nb-icon>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="AddEditForm">
        <div class="row">
          <div class="col-xl-6">
            <div class="form-control-group">
              <label class="label">
                NIP
                <span class="caption status-danger">*</span>
              </label>
              <input nbInput
                    fullWidth
                    formControlName="nip" 
                    name="nip"
                    placeholder="Enter nip guru"
                    fieldSize="large"
                    [status]="submitted && f.nip.errors  ? 'danger' : 'basic'"
              >
              <ng-container *ngIf="submitted && f.nip.errors">
                <p class="caption status-danger" *ngIf="f.nip.errors.required">
                  Please enter NIP guru.
                </p>
              </ng-container>
            </div>
            <div class="form-control-group">
              <label class="label">
                Nama
                <span class="caption status-danger">*</span>
              </label>
              <input nbInput
                    fullWidth
                    formControlName="nama" 
                    name="nama_guru"
                    placeholder="Enter nama guru"
                    fieldSize="large"
                    [status]="submitted && f.nama.errors  ? 'danger' : 'basic'"
              >
              <ng-container *ngIf="submitted && f.nama.errors">
                <p class="caption status-danger" *ngIf="f.nama.errors.required">
                  Please enter nama guru.
                </p>
              </ng-container>
            </div>
            <div class="form-control-group">
              <label class="label">
                Initial
                <span class="caption status-danger">*</span>
              </label>
              <input nbInput
                    fullWidth
                    formControlName="initial" 
                    name="initial"
                    placeholder="Enter initial guru"
                    fieldSize="large"
                    [status]="submitted && f.initial.errors  ? 'danger' : 'basic'"
              >
              <ng-container *ngIf="submitted && f.initial.errors">
                <p class="caption status-danger" *ngIf="f.initial.errors.required">
                  Please enter initial guru.
                </p>
              </ng-container>
            </div>
            <div class="form-control-group">
              <label class="label">
                Alamat
                <span class="caption status-danger">*</span>
              </label>          
              <textarea 
                nbInput 
                fullWidth  
                rows="3"
                formControlName="alamat" 
                placeholder="Enter alamat guru"
                [status]="submitted && f.alamat.errors  ? 'danger' : 'basic'"
                >
              </textarea>
              <ng-container *ngIf="submitted && f.alamat.errors">
                <p class="caption status-danger" *ngIf="f.alamat.errors.required">
                  Please enter alamat guru.
                </p>
              </ng-container>
            </div>
          </div>
          <div class="col-xl-6">
            <div class="form-control-group">
              <label class="label">
                No. Tlp / WA
                <span class="caption status-danger">*</span>
              </label>
              <input nbInput
                    fullWidth
                    formControlName="no_tlp" 
                    name="no_tlp"
                    type="number"
                    placeholder="Enter no.tlp guru"
                    fieldSize="large"
                    [status]="submitted && f.no_tlp.errors  ? 'danger' : 'basic'"
              >
              <ng-container *ngIf="submitted && f.no_tlp.errors">
                <p class="caption status-danger" *ngIf="f.no_tlp.errors.required">
                  Please enter no.tlp guru.
                </p>
              </ng-container>
            </div>
            <div class="form-control-group">
              <label class="label">
                Cabang
                <span class="caption status-danger">*</span>
              </label>
              <nb-select                   
                class="form-control" 
                formControlName="cabang" 
                placeholder="Select cabang"
                [(selected)]="selectedCabang">
                <nb-option *ngFor="let item of listCabang" value="{{item.nama_cabang}}">
                  {{ item.nama_cabang }}
                </nb-option>
              </nb-select>   
              <ng-container *ngIf="submitted && f.cabang.errors">
                <p class="caption status-danger" *ngIf="f.cabang.errors.required">
                  Please select cabang.
                </p>
              </ng-container>   
            </div>
            <div class="form-control-group">
              <label class="label">
                Wali Kelas
              </label>
              <nb-select 
                multiple
                class="form-control" 
                formControlName="kelas" 
                placeholder="Select kelas"
                [(selected)]="selectedKelas">
                <nb-option *ngFor="let item of listKelas" value="{{item.nama_kelas}}">
                  {{ item.nama_kelas }}
                </nb-option>
              </nb-select>   
              <ng-container *ngIf="submitted && f.kelas.errors">
                <p class="caption status-danger" *ngIf="f.kelas.errors.required">
                  Please select kelas.
                </p>
              </ng-container>   
            </div>
            <div class="form-control-group">
              <label class="label">
                Mata Pelajaran
                <span class="caption status-danger">*</span>
              </label>
              <nb-select 
                multiple
                class="form-control" 
                formControlName="nama_mata_pelajaran" 
                placeholder="Select mata pelajaran"
                [(selected)]="selectedMatpel">
                <nb-option *ngFor="let item of listMatpel" value="{{item.nama_mata_pelajaran}}">
                  {{ item.nama_mata_pelajaran }}
                </nb-option>
              </nb-select>   
              <ng-container *ngIf="submitted && f.nama_mata_pelajaran.errors">
                <p class="caption status-danger" *ngIf="f.nama_mata_pelajaran.errors.required">
                  Please select mata pelajaran.
                </p>
              </ng-container>   
            </div>
          </div>
        </div>
    </form> 
  </div>
  <div class="modal-footer">
    <div class="text-right">
      <button class="btn btn-primary" 
        type="submit"
        (click)="onSubmit(AddEditForm.value)"
        [nbSpinner]="submitLoading" 
        [disabled]="submitLoading">
        {{ submitLoading ? "" : action }}
      </button>
    </div>
  </div>
</div>